# Default location of the slapd.conf file or slapd.d cn=config directory. If
# empty, use the compiled-in default (/etc/ldap/slapd.d with a fallback to
# /etc/ldap/slapd.conf).
SLAPD_CONF=/etc/ldap/slapd.conf

# System account to run the slapd server under. If empty the server
# will run as root.
SLAPD_USER="<%= @ldapowner %>"

# System group to run the slapd server under. If empty the server will
# run in the primary group of its user.
SLAPD_GROUP="<%= @ldapgroup %>"

# Path to the pid file of the slapd server. If not set the init.d script
# will try to figure it out from $SLAPD_CONF (/etc/ldap/slapd.conf by
# default)
SLAPD_PIDFILE=

# slapd normally serves ldap only on all TCP-ports 389. slapd can also
# service requests on TCP-port 636 (ldaps) and requests via unix
# sockets.
# Example usage:
# SLAPD_SERVICES="ldap://127.0.0.1:389/ ldaps:/// ldapi:///"
<% if @slapd_services -%>
SLAPD_SERVICES="<%= @slapd_services %>"
<% else -%>
<%    if @ssl -%>
SLAPD_SERVICES="ldap:/// ldaps:/// ldapi:///"
<%    else -%>
SLAPD_SERVICES="ldap:/// ldapi:///"
<%    end -%>
<% end -%>

# If SLAPD_SENTINEL_FILE is set to path to a file and that file exists,
# the init script will not start or restart slapd (but stop will still
# work).  Use this for temporarily disabling startup of slapd (when doing
# maintenance, for example, or through a configuration management system)
# when you don't want to edit a configuration file.
SLAPD_SENTINEL_FILE=/etc/ldap/noslapd

# For Kerberos authentication (via SASL), slapd by default uses the system
# keytab file (/etc/krb5.keytab).  To use a different keytab file,
# uncomment this line and change the path.
#export KRB5_KTNAME=/etc/krb5.keytab
<% if @kerberos -%>
<%   if @krb5_keytab -%>
export KRB5_KTNAME=<%= @krb5_keytab %>
<%   end -%>
<%   if @krb5_ticket_cache -%>
export KRB5CCNAME=<%= @krb5_ticket_cache %>
<%   end -%>
<% end -%>

# Additional options to pass to slapd
SLAPD_OPTIONS=""
